{
    "name": "sompy_v1.2",
    "title": "Som.py v1.2",
    "summary": "Uses som.py, part of the hap.py suite to compare variant calls to a provided 'truth' vcf.",
    "description": "Run som.py to compare a query vcf with a truth to generate sensitivity information. Main usage is for cancer runs e.g. Swift, TSO500 etc.",
    "properties": {
        "github release": "v1.2"
    },
    "dxapi": "1.0",

    "inputSpec":
    [
        {
            "name": "truthVCF",
            "label": "Truth VCF",
            "help": "VCF with expected variants, used to compare with query VCF. For HD200 sample use 001_ToolsReferenceData/Data/VCF/HD200_expectedsorted.vcf",
            "class": "file",
            "patterns": ["*.vcf"],
            "optional": false
        },
        {
            "name": "queryVCF",
            "label": "Query VCF",
            "help": "VCF file to be compared. gVCFs generated by TSO500 pipeline may need to be converted- see 'TSO' input",
            "class": "array:file",
            "patterns": ["*.vcf"],
            "optional": true
        },
        {
            "name": "TSO",
            "label": "TSO run",
            "help": "identify TSO500 run, requires bcftools step to convert vcf prior to running sompy",
            "class": "boolean",
            "optional": false,
            "default": false
        },
        {
            "name": "varscan",
            "label": "varscan vcf",
            "help": "when vcf generated by varscan can run with extra options to output variants in feature table",
            "class": "boolean",
            "optional": false,
            "default": false
        },
        {
            "name": "skip",
            "label": "skip",
            "help": "Skip this step if not required",
            "class": "boolean",
            "optional": false,
            "default": true
          }
    ],

    "outputSpec": [
        {
            "name": "sompy_output",
            "label": "sompy results",
            "help": "all results files from running sompy",
            "class": "array:file",
            "optional": true
        }
    ],

    "runSpec": {
        "interpreter": "bash",
        "distribution": "Ubuntu",
        "release": "20.04",
        "version": "0",
        "file": "src/code.sh"
    },
    "access": {
        "network": [
        "*"
        ],
        "project": "CONTRIBUTE",
        "allProjects": "VIEW"
    },
    "ignoreReuse": false,
    "regionalOptions": {
        "aws:us-east-1": {
            "systemRequirements": {
                "main": {
                    "instanceType": "mem1_ssd1_v2_x2"
                }
            }
        }
    }
}